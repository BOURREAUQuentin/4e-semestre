<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <script type="importmap">
            {
                "imports" : {
                    "vue" : "https://unpkg.com/vue@3/dist/vue.esm-browser.js"
                }
            }
        </script>
        <link rel="stylesheet"
        href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css"
        integrity="sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65"
        crossorigin="anonymous">
    </head>
    <body>
        <div id="app6" class="container">
            <h2> {{ title }} </h2>
            <ol>
                <li v-for="todo in todos">
                    <div class="checkbox">
                        <label>
                            <input type="checkbox" v-model="todo.checked">
                            <del v-if="todo.checked">
                                {{ todo.text }}
                            </del>
                            <span v-else>
                                {{ todo.text }}
                            </span>
                        </label>
                        <div class="alert alert-success" v-if="todo.checked">
                            Done
                        </div>
                    </div>
                </li>
            </ol>
            <em>Changez le titre de votre liste ici !</em>
            <input v-model="title" type="text"/>
            <div>
                <h2>Nouvelle tache</h2>
                <input v-model="nomTache" type="text" required/>
                <button v-on:click="ajouterTache">Ajouter</button>
            </div>
        </div>
        <script type="module">
            import { createApp } from "vue"

            createApp({
                data(){
                    return {
                        todos: [
                        { text: 'Apprendre ES6', checked: true},
                        { text: 'Apprendre Vue', checked: false},
                        { text: 'Faire un projet magnifique', checked: false}
                        
                        ],
                        title: "Mes taches urgentes",
                        nomTache: ""
                    }
                },
                methods: {
                    ajouterTache: function(){
                        console.log("nom tache : " + this.nomTache)
                        this.todos.push({ text: this.nomTache})
                    }
                }
            }).mount("#app6")
        </script>
    </body>
</html>